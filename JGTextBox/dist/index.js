!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";isc.ClassFactory.defineClass("JGTextBox","JGBaseFormWidget"),isc.JGTextBox.addProperties({IsMust:!1,LabelWidth:94,Height:26,TextLength:50,Visible:!0,ReadOnly:!1,Enabled:!0,TitleWidth:76,ColumnName:"columnName",WidgetStyle:"JGTextBox",listener:["OnValueLoaded","OnValueChanged","OnLabelClick","OnKeyDown","OnEnter","OnLeave"]}),isc.JGTextBox.addMethods({_initProperties:function(e){this.TitleWidth=this.LabelWidth,this.TitleVisible=this.LabelVisible,"JGTextBox"==this.WidgetStyle&&(this.WidgetStyle="JGForm");var t=this._decodeValueFormat(this.ValueFormat),i=t?t[0]:null,n=null!==i&&""!==i?i:null;this.items=[isc.addProperties(e,{type:"V3TextItems",isAbsoluteForm:!0,mask:n,maskBackUp:n})]},_decodeValueFormat:function(e){if(!e||""===e)return null;var t=JSON.parse(e).ValueFormat,i=t?t.length:0;if(0===i)return null;for(var n="",l=",",a=[],s=-1,r=0;r<i;r++){var u=t[r],o=this._convertMaskRule(u);u.Valuelength&&u.Valuelength;if("FixedCharacter"===u.Type)s+=u.Value.length;else if("Separator"===u.Type){for(var d=0,h=u.Value.length;d<h;d++)l+=s+d+1+",";s+=u.Value.length}else s+=u.Valuelength;n+=o}return a.push(n),a.push(l),a},_convertMaskRule:function(e){var t="",i="",n="",l=e.Type,a=e.Value,s=e.ValueLimit,r=e.Valuelength;if("Lowercase"===s?i="<":"Upercase"===s&&(i=">"),"Digit"===l)for(var u=0;u<r;u++)t+="#";else if("AnyCharacter"===l)for(u=0;u<r;u++)t+=i+"C";else if("Character"===l)for(u=0;u<r;u++)t+=i+"[a-zA-Z]";else if("FixedCharacter"===l){u=0;for(var o=(d=a.split("")).length;u<o;u++)n+="\\"+d[u];t+=n}else if("Separator"===l){var d;for(u=0,o=(d=a.split("")).length;u<o;u++)n+="\\"+d[u];t+=n}return t},setItemValue:function(e){e=null!=e&&null!=e?e:"",this.items.last().setValue(e)},getBoundFieldNames:function(){return[this.ColumnName]},getBindFields:function(){return this.getBoundFieldNames()},destroy:function(){isc.EventHandler.clearWidgetRef(this.ID),this.Super("destroy",arguments)},getV3Value:function(){var e=this.getWidgetData();return null==e||null==e?"":e},getDefaultValue:function(){var e=this.DefaultValue;return e&&this._v3ExpHandler&&(e=this._v3ExpHandler(e)),e},setReadOnly:function(e){this.setItemReadOnly(e)},getReadOnly:function(){return this.isReadOnly()},setEnabled:function(e){this.setItemEnabled(e)},getVisible:function(){return this.isVisible()},setLabelText:function(e){this.setSimpleChineseTitle(e)},getLabelText:function(){return this.getSimpleChineseTitle()},setV3Focus:function(){this.setControlFocus()},cleanSelectedControlValue:function(e){this.clearWidgetBindDatas(e)},getV3MethodMap:function(){return{setFocus:"setV3Focus",setValue:"setV3Value",getValue:"getV3Value"}}})}));
